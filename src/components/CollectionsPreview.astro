---
import { Image } from "astro:assets";

interface Props {
	posts: any[];
}

const { posts } = Astro.props;
---

<div class="relative w-full mt-10">
	{/* Columns Container - Responsive grid */}
	<div class="columns-1 sm:columns-2 lg:columns-3 gap-3">
		{
			posts.map((post, index) => (
				<a
					href={`/blog/${post.slug}`}
					class="group relative shadow transition-all duration-300 h-130 rounded-t-lg overflow-hidden mb-3 break-inside-avoid block"
				>
					{/* Background Image */}
					{post.heroImage && (
						<Image
							src={post.heroImage}
							alt={post.title}
							class="absolute inset-0 w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"
						/>
					)}

					<div class="absolute right-5 top-5 bg-primary rounded-full px-4 py-2 text-xs font-bold italic"> COLLECTION</div>
					<div class="absolute z-15 bg-primary/30 inset-0" />

					{/* Content */}
					<div
						class="absolute space-y-4 bottom-0 left-0 right-0 p-4 bg-background z-20 pt-20"
						style="clip-path: polygon(0 0%, 100% 20%, 100% 100%, 0% 100%);"
					>
						<h4 class="text-3xl italic line-clamp-2 group-hover:text-primary transition-colors">
							{post.title}
						</h4>
						<p class="opacity-90 mt-1 italic line-clamp-1">
							{post.description}
						</p>
						<time class="opacity-75 mt-2 block">
							{post.pubDate.toLocaleDateString("es-ES")}
						</time>
					</div>
				</a>
			))
		}
	</div>
</div>
